<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
	<link rel="stylesheet" href="styles.css">
	<link href="css/fontawesome.min.css" rel="stylesheet"> 
	<link href="css/regular.min.css" rel="stylesheet"> 
	<link href="css/solid.min.css" rel="stylesheet">
	<link href="css/brands.min.css" rel="stylesheet"> <!--font awesome-->
	<meta name="theme-color" content="#303030">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
    <meta charset="utf-8">
	<meta name="description" content="OSCE Timer">
    <meta name="keywords" content="OSCE Timer">
    <meta name="author" content="">
    <title>OSCE Timer - Free synchronized countdown timer</title>
</head>
<body>
	<div id="main-body">
		<div id="status">
			Loading...
		</div>
		<div id="page_start">
			<div id="page_start_inner">
				<h1>OSCEtimer.app</h1>
				<h2>The OSCE Timer is a free, web-based synchronized countdown timer based on peerJS. All users are connected to the same countdown timer simultaneously. </h2>
				<div class="section line">An HOST controls the countdown timer (start / stop / countdown duration). A VIEWER listens to the time signal broadcast from the administrator. A peer-to-peer connection ensures that the timers on different connected devices are synchronized.</div>
				<div class="section" style="text-align:center">
					<div class="section">Choose a role to begin:</div>
					<a class="button invert" onclick="init(0)">Host</a>
					<a class="button invert" onclick="init(1)">Viewer</a>
				</div>
			</div>
		</div>
		<div id="page_admin">
			<div class="section_split">
				<div class="section head-left">
					<div class="head-title">
						<div class="titlenumber">1</div>
						<div>Step 1</div>
					</div>
					<div id="div_label">
						<div id="div_label_input" style="">
							<div style="font-size:0.8rem">Title of timer:</div>
							<input id="label_input" oninput="sender_label_debounce()" placeholder="untitled timer" style="text-align:left; width:100%">
						</div>
					</div>
				</div>
				<div class="section head-right">
					<div class="head-title">
						<div class="titlenumber">2</div>
						<div>Step 2</div>
					</div>
					<div id="div_iddisplay">
						<div style="font-size:0.8rem;padding-bottom:5px">Session ID: <span id="ownID" style="font-weight:bold"></span></div>
						<div>
						<a class="button tinybutton" id="sharelinkbutton" onclick="sharefunction2()">Share link</a>
						<a class="button tinybutton" id="copylinkbutton" onclick="copyfunction2(true)">Copy link</a>
						<a class="button tinybutton" onclick="copyfunction2(false)">Copy ID</a>
						</div>
					</div>
				</div>
			</div>
			<div class="section">
				<div style="display:flex;align-items:center;justify-content:center;gap:1rem; height:100px">
					<div>
						<div style="font-size:0.8rem">Countdown duration:</div>
						<div><select id="select_timer">
						<option value="1">1min</option>
						<option value="2">2min</option>
						<option value="3">3min</option>
						<option value="4">4min</option>
						<option value="5">5min</option>
						<option value="6">6min</option>
						<option value="7">7min</option>
						<option value="8">8min</option>
						<option value="9">9min</option>
						<option value="10" selected>10min</option>
						<option value="15">15min</option>
						<option value="20">20min</option>
						<option value="25">25min</option>
						<option value="30">30min</option>
						<option value="35">35min</option>
						<option value="40">40min</option>
						<option value="45">45min</option>
						<option value="50">50min</option>
						<option value="55">55min</option>
						<option value="60">60min</option>
						</select></div>
					</div>
					<div class="iconbutton" onclick="start_stopwatch()" id="startbutton1">
						<div class="icon"><i class="fas fa-stopwatch"></i></div>
						<a class="button tinybutton">Start</a>
					</div>
				</div>


			</div>
		</div>
		<div id="page_receiver">
			<div class="section line" id="page_receiver_1" style="display:flex;align-items:center;gap:10px">
				<div style="flex-basis:80px">Host ID:</div>
				<div>
					<input id="senderID" style="width:100px">
					<a class="button tinybutton" id="submitID" onclick="init_receiver()">Submit</a>
				</div>
			</div>
			<div class="section line" id="page_receiver_2" style="display:none">
				<div id="page_receiver_msg" style="font-size:0.8rem;color:#666"></div>
			</div>
			<div class="section" id="page_receiver_alias" style="display:flex;align-items:center;gap:10px">
				<div style="flex-basis:80px">Username:</div>
				<div>
					<input id="viewerID" oninput="updatereceiverdata();" placeholder="Enter a name to start" style="text-align:left;min-width:200px">
				</div>
			</div>
		</div>
		<div class="" id="div_timer">
			<div id="div_timer_controls">
					<div id="startbutton2" style="" class="iconbutton"  onclick="start_stopwatch()">
						<div class="icon"><i class="fas fa-fw fa-play"></i></div>
						<a class="button tinybutton" id="">Start</a>
					</div>
					<div id="pausebutton" class="iconbutton" onclick="pause_stopwatch()">
						<div class="icon"><i class="fas fa-fw fa-pause"></i></div>
						<a class="button tinybutton"  id="">Pause</a>
					</div>
					<div id="resetbutton" class="iconbutton" onclick="reset_stopwatch()">
						<div class="icon"><i class="fas fa-fw fa-sync-alt"></i></div>
						<a class="button tinybutton"  id="">Reset</a>
					</div>
					<div id="fullscreenbutton" style="" class="iconbutton"  onclick="fullscreen()">
						<div class="icon"><i class="fas fa-fw fa-expand"></i></div>
						<a class="button tinybutton">Fullscreen</a>
					</div>
			</div>
			<div id="div_label_output" style="padding-left:16px;text-align:left"></div>
			<div id="div_timer_inner">
				<div id="timer_status">Countdown is running:</div>
				<div id="timer_display"></div>
			</div>
			<div id="div_timer_controls_receiver">
				<div id="incomingmessage"></div>
				<div style="display:flex;white-space:nowrap">
					<a class="button tinybutton" onclick="chatbox(0,true)" style="margin-right:10px"><i class="fas fa-comment-alt"></i>Chat</a>
					<a class="button tinybutton" onclick="fullscreen();"><i class="fas fa-expand"></i>Fullscreen</a>
				</div>
			</div>
		</div>
		<div id="page_admincontrols">
			<div style="text-align:center;font-weight:bold">USER MANAGEMENT</div>
			<div  class="section line" id="div_usermx_controls">
				<div id="status_count"></div>
				<div>
					<a class="button tinybutton" onclick="sender_displayusers();">Update</a>
				</div>
			</div>
			<div style="display:flex;align-items:center;gap:10px"  class="section">
				<div>Quick chat: </div>
				<div id="div_userslist">
				</div>
			</div>
		</div>
		<div id="page_msg" style="display:none">
			<div>---Message zone---</div>
			<div id="message">
			</div>
		</div>
	</div><!-- close main body-->
	<!--modals-->
		<div id="modalDialog" class="modal alt">
			<div class="modal-content alt" id="modalDialogcontent">
				<div class="modal-header alt"><span class="title">OSCETimer</span><span class="close alt" onClick="hidemodal('modalDialog')">&times;</span></div>
				<div class="modal-body alt">OSCETimer is loading up...</div>
			</div>
		</div>
		<div id="helpicon" onclick="displayAbout();">
			<i class="fas fa-question-circle"></i>
		</div>
</body>
<script src="main.js"></script>
<script src="index.js"></script>
<!--<script src="https://unpkg.com/peerjs@1.5.0/dist/peerjs.min.js"></script>-->
<script src="https://cdn.socket.io/4.8.1/socket.io.min.js" integrity="sha384-mkQ3/7FUtcGyoppY6bz/PORYoGqOl7/aSUMn2ymDOJcapfS6PHqxhRTMh1RR0Q6+" crossorigin="anonymous"></script>
<script>
	
</script>
<script>initialize()</script>